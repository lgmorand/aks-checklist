[
    {
      "title": "Static Analysis of Docker Images on Build",
      "priority": "High",
      "description": "Introduction of DevSecOps into the environment to promote a proactive security model that starts to shift the responsibility left",
      "detail": "Ensure static analysis on build is taking place as a starting point"
      "documentation": [
        {
          "title": "Palo Alto CI/CD Integration (twistcli)",
          "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/tools/twistcli_scan_images"
        },
        {
          "title": "Aquasec CI/CD Integration",
          "url": "https://docs.aquasec.com/docs/image-scanning"
        },
        {
          "title": "Qualys CI/CD Integration",
          "url": "https://qualysguard.qg2.apps.qualys.com/cs/help/vuln_scans/docker_images.htm"
        },
        {
          "title": "StackRox CI/CD Integration",
          "url": "https://www.stackrox.com/use-cases/vulnerability-management/"
        },
        {
          "title": "Clair CI/CD Integration",
          "url": "https://github.com/quay/clair"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Threshold enforcement of Docker Image Builds that contain vulnerabilities",
      "priority": "Medium",
      "description": "Restrict builds with identified issues.",
      "detail": "Use a tool that allows for the restriction of builds with enough granularity to not break development.  All Critical CVE's are not the same,  so being able to restrict builds based on Critical or High vulnerabilities with a Vendor fix, but allowing builds to continue if that Critical vulnerability is "Open"",
      "documentation": [
        {
          "title": "Prisma Threshold enforcement",
          "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/vulnerability_management/vuln_management_rules.html"
        },
        {
          "title": "StackRox Advanced Policy Enforcement",
          "url": "https://www.stackrox.com/use-cases/vulnerability-management/"
        },
        {
          "title": "AquaSec Proactive Risk Management",
          "url": "https://docs.aquasec.com/docs/proactive-risk-management"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Compliance enforcement of Docker Image Builds",
      "priority": "High",
      "description": "Being able to assess and restrict the Compliance state of an image on build.",
      "detail": "Identifing an image running as "root" before it get deployed, or opening up port 80 or 22"
      "documentation": [
        {
          "title": "Azure Built-In Policy",
          "url": "https://docs.microsoft.com/en-us/azure/aks/policy-samples"
        },
        {
          "title": "Prisma Managing Compliance",
          "url": "https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin-compute/compliance/manage_compliance.html"
        },
        {
          "title": "Aqua Image Assurance Policies",
          "url": "https://docs.aquasec.com/docs/image-assurance-policies-basic-info"
        },
        {
          "title": "StackRox Compliacne",
          "url": "https://www.stackrox.com/use-cases/compliance/"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Inject Secrets instead of passwords in Docker Images",
      "priority": "High",
      "description": "It is not recommended to inject passwords of any kind in images, instead use Secrets.  You can inject secrets as files or as a variable.",
      "documentation": [
        {
          "title": "CSI Driver",
          "url": "https://github.com/Azure/secrets-store-csi-driver-provider-azure"
        },
        {
          "title": "AKV2K8S",
          "url": "https://akv2k8s.io/"
        },
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Conduct Docker Image Builds using Docker Image Security Best Practices",
      "priority": "High",
      "description": "Define a Image build security baseline for your developers to follow.",
      "documentation": [
        {
          "title": "SNYK 10 Docker Image Security Best Practices",
          "url": "https://snyk.io/blog/10-docker-image-security-best-practices/"
        },
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Quarantine of Docker Images in Docker Registries that have discovered issues",
      "priority": "High",
      "description": "Use policy to protect images from drift while in the registry, on both push and pull.",
      "detail": "On build the image is secured based on the threshold set, but now while in the registry a new issue is discoverd.  You need to ensure that the image can not be deployed until the issue is remediated.",
      "documentation": [
        {
          "title": "ACR Quarantine",
          "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Role-Based Access Contol (RBAC) to Docker Registries",
      "priority": "High",
      "description": "Use network policies to allow or deny traffic to pods. By default, all traffic is allowed between pods within a cluster. For improved security, define rules that limit pod communication.",
      "detail": "Network policy is a Kubernetes feature that lets you control the traffic flow between pods. You can choose to allow or deny traffic based on settings such as assigned labels, namespace, or traffic port. The use of network policies gives a cloud-native way to control the flow of traffic. As pods are dynamically created in an AKS cluster, the required network policies can be automatically applied. Don't use Azure network security groups to control pod-to-pod traffic, use network policies.",
      "documentation": [
        {
          "title": "Control traffic flow with network policies",
          "url": "https://docs.microsoft.com/en-us/azure/aks/operator-best-practices-network#control-traffic-flow-with-network-policies"
        }
      ],
      "tools":[
        {
          "title": "Calico",
          "url": "https://docs.projectcalico.org/reference/resources/networkpolicy"
        },
        {
          "title": "Cillium",
          "url": "https://cilium.io/"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Network Segmentation of Docker Registries",
      "priority": "High",
      "description": "Use policy to protect images from drift while in the registry, on both push and pull.",
      "detail": "On build the image is secured based on the threshold set, but now while in the registry a new issue is discoverd.  You need to ensure that the image can not be deployed until the issue is remediated.",
      "documentation": [
        {
          "title": "ACR Quarantine",
          "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
        }
      ],
      "tags": ["all", "network", "security"]
    },
    {
      "title": "Secure the AKS Cluster API Service",
      "priority": "Medium",
      "description": "Use policy to protect images from drift while in the registry, on both push and pull.",
      "detail": "On build the image is secured based on the threshold set, but now while in the registry a new issue is discoverd.  You need to ensure that the image can not be deployed until the issue is remediated.",
      "documentation": [
        {
          "title": "ACR Quarantine",
          "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
        }
      ],
      "tags": ["all", "network", "security"]
    },
    {
      "title": "Quarantine of Docker Images in Docker Registries that have discovered issues",
      "priority": "Medium",
      "description": "Use policy to protect images from drift while in the registry, on both push and pull.",
      "detail": "On build the image is secured based on the threshold set, but now while in the registry a new issue is discoverd.  You need to ensure that the image can not be deployed until the issue is remediated.",
      "documentation": [
        {
          "title": "ACR Quarantine",
          "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
        }
      ],
      "tags": ["all", "network", "security"]
    },
    {
      "title": "Quarantine of Docker Images in Docker Registries that have discovered issues",
      "priority": "Medium",
      "description": "Use policy to protect images from drift while in the registry, on both push and pull.",
      "detail": "On build the image is secured based on the threshold set, but now while in the registry a new issue is discoverd.  You need to ensure that the image can not be deployed until the issue is remediated.",
      "documentation": [
        {
          "title": "ACR Quarantine",
          "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
        }
      ],
      "tags": ["all", "network", "security"]
    },
    {
      "title": "Quarantine of Docker Images in Docker Registries that have discovered issues",
      "priority": "Medium",
      "description": "Use policy to protect images from drift while in the registry, on both push and pull.",
      "detail": "On build the image is secured based on the threshold set, but now while in the registry a new issue is discoverd.  You need to ensure that the image can not be deployed until the issue is remediated.",
      "documentation": [
        {
          "title": "ACR Quarantine",
          "url": "https://github.com/Azure/acr/tree/master/docs/preview/quarantine"
        }
      ],
      "tags": ["all", "network", "security"]
    },
    {
      "title": "Control traffic flow with network policies",
      "priority": "Medium",
      "description": "Use network policies to allow or deny traffic to pods. By default, all traffic is allowed between pods within a cluster. For improved security, define rules that limit pod communication.",
      "detail": "Network policy is a Kubernetes feature that lets you control the traffic flow between pods. You can choose to allow or deny traffic based on settings such as assigned labels, namespace, or traffic port. The use of network policies gives a cloud-native way to control the flow of traffic. As pods are dynamically created in an AKS cluster, the required network policies can be automatically applied. Don't use Azure network security groups to control pod-to-pod traffic, use network policies.",
      "documentation": [
        {
          "title": "Control traffic flow with network policies",
          "url": "https://docs.microsoft.com/en-us/azure/aks/operator-best-practices-network#control-traffic-flow-with-network-policies"
        }
      ],
      "tools":[
        {
          "title": "Calico",
          "url": "https://docs.projectcalico.org/reference/resources/networkpolicy"
        },
        {
          "title": "Cillium",
          "url": "https://cilium.io/"
        }
      ],
      "tags": ["all", "network, security"]
    },
    {
      "title": "IP Range authorization",
      "priority": "High",
      "description": "The API server is the central way to interact with your cluster. To improve cluster security and minimize attacks, the API server should only be accessible from a limited set of IP address ranges.By using a private cluster, you can ensure that network traffic between your API server and your node pools remains on the private network only. Because the API server has a private address, it means that to access it for administration or for deployment, you need to set up a private connection, like using a 'jumpbox' (i.e.: Azure Bastion)",
      "documentation": [
        {
          "title": "Secure access to the API server using authorized IP address ranges",
          "url": "https://docs.microsoft.com/en-us/azure/aks/api-server-authorized-ip-ranges"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Configure default network policies in each namespace",
      "priority": "Medium",
      "description": "Start by creating a deny all policy in each namespace and then add specific policies.",
      "documentation": [
        {
          "title": "Recipes of best default network policies",
          "url": "https://github.com/ahmetb/kubernetes-network-policy-recipes"
        }
      ],
      "tags": ["all", "security, "network"]
    },
    {
      "title": "IP Range authorization",
      "priority": "High",
      "description": "The API server is the central way to interact with your cluster. To improve cluster security and minimize attacks, the API server should only be accessible from a limited set of IP address ranges.By using a private cluster, you can ensure that network traffic between your API server and your node pools remains on the private network only. Because the API server has a private address, it means that to access it for administration or for deployment, you need to set up a private connection, like using a 'jumpbox' (i.e.: Azure Bastion)",
      "documentation": [
        {
          "title": "Secure access to the API server using authorized IP address ranges",
          "url": "https://docs.microsoft.com/en-us/azure/aks/api-server-authorized-ip-ranges"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "AAD Integration",
      "priority": "High",
      "description": "Azure Kubernetes Service (AKS) can be configured to use Azure Active Directory (Azure AD) for user authentication. In this configuration, you can sign in to an AKS cluster by using your Azure AD authentication token.",
      "documentation": [
        {
          "title": "AAD Integration V2",
          "url": "https://docs.microsoft.com/fr-fr/azure/aks/azure-ad-v2"
        },
        {
          "title": "Integrate Azure Active Directory with Azure Kubernetes Service",
          "url": "https://docs.microsoft.com/fr-fr/azure/aks/azure-ad-integration"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Private cluster",
      "priority": "High",
      "description": "In a private cluster, the control plane or API server has internal IP addresses and is not exposed to Internet",
      "detail": "By using a private cluster, you can ensure that network traffic between your API server and your node pools remains on the private network only. Because the API server has a private address, it means that to access it for administration or for deployment, you need to set up private connection, like using a 'jumpbox' (i.e.: Azure Bastion)",
      "documentation": [
        {
          "title": "Create a private cluster",
          "url": "https://docs.microsoft.com/en-us/azure/aks/private-clusters"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Refresh container when base image is updated",
      "priority": "Medium",
      "description": "As you use base images for application images, use automation to build new images when the base image is updated. As those base images typically include security fixes, update any downstream application container images.",
      "documentation": [
        {
          "title": "Automatically build new images on base image update",
          "url": "https://docs.microsoft.com/en-us/azure/aks/operator-best-practices-container-image-management#automatically-build-new-images-on-base-image-update"
        },
        {
          "title": "Azure DevOps - Trigger pipeline from Docker image update",
          "url": "https://dev.to/larryclaman/trigger-azure-devops-build-pipeline-from-docker-image-update-5d3i"
        }
      ],
      "tags": ["all", "security", "resources"]
    },
    {
      "title": "Check if you need the Kubernetes dashboard",
      "priority": "Medium",
      "description": "By default Kubernetes in AKS deploys and exposes the default dashboard for clusters running a Kubernetes version less than 1.18. If you don't plan to use it to pilot your cluster, you should disable it.",
      "details": "It can be done with the following CLI: az aks disable-addons --addons kube-dashboard --resource-group RG_NAME --name CLUSTER_NAME",
      "documentation": [
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Use AKS and ACR integration without password",
      "priority": "Medium",
      "description": "AKS can authenticate to ACR without using any password, but by using either Service Principal or Managed Identity.",
      "details": "For AKS to download/pull images from Azure Container Registry (ACR), it needs the ACR credentials including the password. To avoid saving the password in the cluster, you can simply activate the ACR integration on new or existing AKS cluster using SPN or Managed Identity",
      "documentation": [
        {
          "title": "Authenticate with Azure Container Registry from AKS",
          "url": "https://docs.microsoft.com/en-us/azure/aks/cluster-container-registry-integration"
        }
      ],
      "tags": ["all", "security"]
    },
    {
      "title": "Use placement proximity group to improve performance",
      "priority": "Low",
      "description": "When deploying your application in Azure, spreading Virtual Machine (VM) instances across regions or availability zones creates network latency, which may impact the overall performance of your application. A proximity placement group is a logical grouping used to make sure Azure compute resources are physically located close to each other",
      "details": "Be careful, by using PPG on a nodepool, you reduce the average SLA of your application since they don't rely on availability zones anymore",
      "documentation": [
        {
          "title": "Reduce latency with proximity placement groups",
          "url": "https://docs.microsoft.com/en-us/azure/aks/reduce-latency-ppg"
        }
      ],
      "tags": ["all", "security"]
    }
    {
      "title": "Prevent data-leaking with egress lockdown",
      "priority": "Medium",
      "description": "Use Azure Firewall to secure and control all egress traffic going outside of the cluster.",
      "documentation": [
        {
          "title": "Egress traffic requirements",
          "url": "https://docs.microsoft.com/en-us/azure/aks/limit-egress-traffic"
        }
      ],
      "tags": ["all", "network", "security"]
    }
]
